# Задание 2. План управления и оценка рисков

### 1. Идентификация рисков

Управление рисками является неотъемлемой частью жизненного цикла разработки программного обеспечения, поскольку риски возникают на всех этапах — от сбора требований до эксплуатации системы. Для проекта «Умный дом для людей с ОВЗ» с ML-модулями выделим ключевые группы рисков.

## Технические риски

- **Данные для Speech-to-Intent (STT/NLU).** Нехватка русскоязычных данных, шумные записи (реальные квартиры, акустика, бытовые приборы), акценты/логопедические особенности. Это сказывается на падении точности распознавания интентов.

- **Качество разметки и смещение данных.** Неполная/неоднородная разметка команд, дисбаланс классов, «дрейф» распределений между лабораторной и реальной средой, что приводит к деградации модели при внедрении.

- **Ограничения вычислительных ресурсов.** Ограничения CPU/GPU/памяти на VDS/встраиваемых устройствах, задержка инференса RNN → ухудшение UX (ощутимая задержка в интерфейсе).

- **Надёжность прототипа и датчиков.** Сбои электроники, дребезг контактов, нестабильный Wi-Fi, потеря MQTT-сообщений могут привести к «ложным» или пропущенным событиям безопасности.

- **Интеграционные ошибки.** Несовместимость версий библиотек ML/IoT-стека, конфликты драйверов, некорректные ACL в MQTT-топиках приведёт к отказу функций или нарушению безопасности.

- **Кибербезопасность.** Неправильная конфигурация TLS/хранение секретов, уязвимые зависимости это риск компрометации данных пользователей/управления устройствами.

- **Приватность аудио.** Хранение/передача голосовых записей, персональные данные в логах. Могут возникнуть риски соответствия требованиям защиты данных.

- **Выбор/устойчивость архитектуры ML.** RNN могут уступать трансформерам на шумной речи; неверный выбор архитектуры/гиперпараметров - низкая обобщающая способность.

## Организационные риски

- **Перегруз ключевых специалистов.** Совмещение ролей (разработчик/ML/DevOps/PM) - «узкие места» и зависимость от одного человека.

- **Срыв сроков относительно помесячного плана.** Переоценка скорости реализации ML-части и интеграции устройств - каскадные задержки следующих этапов.

- **Доступ к респондентам.** Сложности в подборе и координации тест-пользователей с ОВЗ - задержка этапов валидации интерфейсов и голосовых команд.

- **Управление изменениями.** Изменение требований по ходу работ (новые сценарии, устройства) без компенсации сроков/ресурсов - расползание объёма (scope creep).

## Финансовые риски

- **Расходы на VDS/GPU и хранение данных.** Увеличение стоимости аренды, потребность в более мощных инстансах для инференса/обучения.

- **Неучтённые затраты на оборудование.** Замена датчиков, доп. контроллеры, расходники, калибровочные стенды.

- **Лицензирование и права на датасеты/модели.** Ограничения лицензий, платные компоненты TTS/STT, необходимость юридической очистки датасетов.

## Внешние риски

- **Регуляторика по персональным данным.** Изменение требований к хранению/обработке аудио и журналов доступа.

- **Поставки и санкционные ограничения.** Задержки/замены компонентов (платы, датчики, шлюзы).

- **Радиопомехи и бытовая среда.** Загруженный диапазон 2.4 ГГц в многоквартирных домах, электромагнитные помехи → нестабильность связи.

- **Технологические изменения.** Депрекейты библиотек ML/IoT, изменение API внешних сервисов.

# 2. Связь рисков с методологиями ПИ

## 2.1. Модели ЖЦ и распределение рисков

- **Водопадная модель.** Основная концентрация рисков — на ранних фазах (требования, архитектура). Для нашего проекта сюда относятся приватность аудио/логов, политики безопасности, базовые интерфейсные требования по доступности (WCAG) и системные допущения по данным для ML. Ошибки «на берегу» дорого исправлять позднее.

- **Инкрементальная/итеративная модель.** Разбивает объём на релизы/инкременты. Позволяет контролируемо «выжигать» неопределённость: сначала базовые IoT-модули, затем ML-части, дальше — пилоты с пользователями ОВЗ. Риски распределяются между итерациями, эффект ранних ошибок ограничен рамками инкремента.

- **Agile (Scrum/Kanban).** Риск-менеджмент встроен в итерации: на каждом спринте выявляем и убираем блокеры (качество данных, латентность инференса, уязвимости конфигураций). Важны механизмы бэклога, MoSCoW-приоритезация, Change Budget, WIP-лимиты — они непосредственно снижают риски расползания объёма и перегрузки ключевых ролей.

## 2.2. DevOps и MLOps как снижение интеграционных и эксплуатационных рисков

- **CI/CD.** Автоматическая сборка, тестирование и деплой уменьшают вероятность интеграционных сбоев (несовместимости библиотек, конфликты драйверов, ошибки ACL в MQTT).

- **Безопасность по умолчанию.** SAST/DAST, зависимость-скан (SBOM), секреты через Vault, TLS-профили — снижают киберриски и риски утечек.

- **Наблюдаемость.** Метрики/логи/трейсы (SLI/SLO), алерты по задержкам инференса и потерям MQTT-сообщений — раннее обнаружение деградаций.

- **MLOps-практики.** Версионирование датасетов и экспериментов, реестр моделей, канареечные/теневые выкладки, мониторинг дрейфа — снижают риски падения качества STT/NLU и «отрыва» лабораторных метрик от реальности.

## 2.3. Тестирование как инструмент управления рисками

- **Unit / Component.** Контракты модулей (парсер интентов, адаптеры MQTT, валидация команд).

- **Integration.** Контрактные тесты API и топиков, негативные сценарии (сетевые сбои, повторная доставка).

- **System / E2E.** Сквозные сценарии: «голос - intent - авторизация - действие устройства - лог/уведомление».

- **Security / Privacy.** Профили TLS, проверка прав/ролей, отсутствие PII в логах, тесты на устойчивость к подмене сообщений.

- **A11y/UX.** Lighthouse/линтеры доступности, тесты с экранными читалками, проверка цветовых контрастов/управления с клавиатуры.

- **Perf/Load.** P95-латентность инференса и ответа UI, устойчивость брокера под нагрузкой.

- **ML-валидация.** Offline-метрики (WER/CER для речи, Accuracy/F1 для интентов), online-метрики (Task Success Rate, жалобы пользователей, отказы в управлении).

## 2.4. Управление качеством и метрики (связь с рисками)

- **Надёжность/производительность:** MQTT-потери ≤ 1%/ч; P95 инференса ≤ 200–300 мс; P95 ответа UI ≤ 200 мс.

- **Безопасность:** 0 критичных/высоких уязвимостей по результатам SAST/DAST; полный учёт секретов; успешная ротация ключей.

- **Приватность:** 0 PII в логах; политика хранения аудио; отчёт по DPIA/угрозам.

- **ML-качество:** WER/CER в целевом окружении, Accuracy/F1 интентов ≥ целевых порогов (например, F1 ≥ 0.85 для базового домена команд).

- **Доступность:** Lighthouse a11y ≥ 90; прохождение чек-листов WCAG 2.1 AA.

- **Процессные:** покрытие тестами ≥ 60%; зелёный основной пайплайн; среднее время восстановления (MTTR) ≤ целевого.

## 2.5. TDD/ATDD/BDD — снижение рисков требований и UX

- **TDD.** Уменьшает регрессии в критичных IoT-модулях (драйверы, адаптеры, ACL).

- **ATDD.** Чёткие критерии приёмки для пользовательских сценариев (в т.ч. доступности).

- **BDD.** Gherkin-сценарии для голосовых команд («Допустим, пользователь сказал… Тогда розетка переключается…»): снижает риск разночтений между бизнес-логикой и ML-распознаванием интентов.

## 2.6. Карта «риск - практика - артефакт - метрика»

| Риск                            | Практика                                    | Артефакт                                 | Метрика/порог                          |
| ------------------------------- | ------------------------------------------- | ---------------------------------------- | -------------------------------------- |
| Дефицит/смещение данных STT/NLU | Agile-спайки, MLOps-датасет версионирование | DVC/каталог датасетов, отчёт по разметке | F1 интентов ≥ 0.85; WER ≤ целевого     |
| Высокая латентность инференса   | CI perf-тесты, профилирование модели        | k6/locust сценарии, профили              | P95 инференса ≤ 200–300 мс             |
| Интеграционные сбои MQTT/API    | CI/CD, контрактные тесты                    | Pact/сквозные тесты                      | 100% прохождение контрактов            |
| Кибербезопасность               | SAST/DAST, Vault, TLS-профили               | Отчёты сканеров, конфиг-политики         | 0 High/Critical, 100% секретов в Vault |
| Приватность аудио/логов         | Data-minimization, DPIA                     | Политика хранения, чек-лист логов        | 0 PII в логах; DPIA утверждена         |
| Перегруз ключевых ролей         | Kanban WIP, RACI                            | RACI-матрица, WIP-лимиты                 | WIP ≤ 2/роль; bus-factor ≥ 2           |
| Scope creep                     | Scrum backlog, CCB, Change Budget           | RFC/CCB протоколы                        | Бюджет изменений ≤ 10% плана           |

# 3. Стратегии управления рисками

| Риск                                  | Вероятность | Влияние | План смягчения                                                                             | План реагирования                                                                                          |
|:-------------------------------------:| ----------- | ------- | ------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------- |
| Неполнота/смещение данных для STT/NLU | Высокая     | Среднее | Сбор доменных данных (home-noise), баланс классов, аугментации (шум/реверб), актив-лёрнинг | Ускоренная дозаметка/расширение датасета, ограничение набора команд, временный fallback на шаблонные фразы |
| Высокая латентность инференса RNN     | Средняя     | Высокое | Квантизация/прунинг, дистилляция, on-device инференс, профилирование горячих путей         | Временное отключение тяжёлых интентов, деградация до keyword-spotting, масштабирование инстансов           |
| Ошибки распознавания интентов         | Средняя     | Среднее | Calibrated thresholds, reject option («не понял»), негативные примеры, A/B-валидация       | Откат версии модели, ускоренное дообучение, ручные правила для критичных команд                            |
| Утечки/приватность аудио              | Низкая      | Высокое | Минимизация хранения, анонимизация, шифрование at-rest/in-transit, DPIA                    | Немедленная ротация ключей/токенов, удаление чувствительных данных, уведомление ответственных              |
| Уязвимости TLS/MQTT/секретов          | Средняя     | Высокое | SAST/DAST, SBOM/зависимости, Vault для секретов, строгие ACL, mTLS                         | Hotfix, отзыв сертификатов, пересоздание учётных данных, пост-мортео и усиление политик                    |
| Сбои датчиков/электроники             | Средняя     | Высокое | Регламент ТО, дублирующие датчики, health-чек сервисов                                     | Замена узла, временная эмуляция данных, переключение на резервный канал                                    |
| Нестабильность Wi-Fi/MQTT потери      | Высокая     | Среднее | QoS 1 для критичных топиков, ретраи/буферизация, приоритет брокера, проводной uplink       | Перевод критичных узлов на провод, снижение частоты публикаций, переразбивка топиков                       |
| Ошибки интеграции API/топиков/версий  | Средняя     | Высокое | Контрактные тесты, стейджинг, канареечные релизы                                           | Поэтапный откат/фича-флаги, патч-релиз, временная изоляция проблемного модуля                              |
| Недостаточная доступность (WCAG)      | Средняя     | Среднее | Линтеры a11y, Lighthouse ≥ 90, тесты с экранными читалками                                 | Срочная правка блокирующих барьеров, перенос косметических правок на следующий инкремент                   |
| Перегрузка ключевых ролей             | Высокая     | Среднее | WIP-лимиты, RACI, резерв времени, дублёры на критичные задачи                              | Редистрибуция задач, фокус на крит-пути, точечный аутсорсинг                                               |
| Задержки поставок оборудования        | Средняя     | Среднее | Альтернативные поставщики, ранний заказ, частичная эмуляция                                | Замена компонент/поставщика, пересмотр графика интеграции                                                  |
| Срыв сроков этапов 4–5 (ML)           | Средняя     | Высокое | Инкрементальная поставка (MVP-модель - улучшения), спайки риска                            | Реприоритизация, перенос нефундаментальных фич в этап 9                                                    |
| Scope creep (расползание объёма)      | Средняя     | Среднее | CCB, MoSCoW, Change Budget 10%                                                             | Де-скоуп текущего релиза, фиксация изменений в следующем цикле                                             |
| Превышение бюджета                    | Средняя     | Высокое | Резерв 10–15%, контроль OPEX (VDS/GPU), лимиты на хранение                                 | Сокращение нефундаментальных расходов, перенос «nice-to-have»                                              |
| Изменения регуляторики/политик        | Низкая      | Среднее | Мониторинг нормативов, отдельная политика хранения аудио                                   | Корректировка документации и сроков, правка конфигураций                                                   |

### 4. План управления рисками

1. **Регулярный мониторинг.**
   
   - Еженедельно (понедельник): краткий risk-review в конце стендапа, обновление статусов (RAG).
   
   - Ежемесячно: пересмотр реестра рисков, актуализация порогов и владельцев.
   
   - По этапам: углублённые ревью в конце этапов **2, 5, 8** (архитектура, интеграция ML, пилоты).

2. **Распределение ответственности.**
   
   - Технические (IoT/бэкенд/MQTT) — **Dev**.
   
   - ML/STT–NLU (данные, модель, инференс) — **ML-инженер**.
   
   - Инфраструктура/выпуски/зависимости — **DevOps**.
   
   - A11y/UX — **UX/UI**.
   
   - Организационные/сроки/изменения — **PM**.
   
   - Приватность/безопасность — **PM + DevOps**.
   
   - Финансовые/внешние — **PM**.

3. **Инструменты управления рисками.**
   
   - Agile-планирование (Scrum/Kanban), MoSCoW, Change Budget **10%**, CCB.
   
   - CI/CD, канареечные релизы, контрактные тесты API/топиков.
   
   - MLOps: версионирование датасетов/моделей, мониторинг дрейфа.
   
   - Метрики качества ПО и ML, автоматизированное тестирование (unit/integration/e2e, a11y, security, perf).
   
   - Политики безопасности/приватности: TLS/mTLS, Vault, DPIA, минимизация данных.

4. **Эскалация.**
   
   - **Критично (RED):** безопасность/приватность, управление устройствами, отказ стенда. MTTA ≤ 1 ч, MTTR ≤ 24 ч, немедленный созвон, CCB.
   
   - **Высокий (AMBER):** интеграционные блокеры, падение качества ML, срыв этапа. Реакция ≤ 24 ч, план/фиксы ≤ 72 ч.
   
   - **Средний/Низкий (GREEN):** в еженедельный отчёт, корректировки в бэклоге


